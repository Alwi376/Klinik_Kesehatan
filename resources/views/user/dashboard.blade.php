<x-app-layout>
    <x-slot name="header">
        <h2 class="font-semibold text-xl text-gray-800 leading-tight">
            {{ __('Dashboard') }}
        </h2>
        <section class="grid grid-cols-4 bg-white divide-x w-full rounded-lg">
            <div class="flex px-8 py-5 cursor-pointer text-gray-900 items-center hover:bg-gray-100 ">
                <svg class="text-gray-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" width="48px"
                    fill="#5f6368">
                    <path
                        d="M212-241v-339h60v339h-60Zm242 0v-339h60v339h-60ZM80-121v-60h800v60H80Zm608-120v-339h60v339h-60ZM80-640v-53l400-228 400 228v53H80Zm134-60h532-532Zm0 0h532L480-852 214-700Z" />
                </svg>
                <div class="ml-3">
                    <div class="font-medium leading-6 text-blue-600">Fasilitas</div>
                    <div class="mt-0.5 text-sm text-gray-500">Kami menyediakan segala fasilitas kesehatan yang anda
                        butuhkan
                    </div>
                </div>
            </div>
            <div class="flex px-8 py-5 cursor-pointer text-blue-600 items-center hover:bg-gray-100">
                <div class="w-16 h-16">
                    <svg viewBox="0 0 8.4666669 8.4666669" id="svg8" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#"
                        xmlns:dc="http://purl.org/dc/elements/1.1/"
                        xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                        xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                        xmlns:svg="http://www.w3.org/2000/svg" fill="#000000">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <defs id="defs2"></defs>
                            <g id="layer1" transform="translate(0,-288.53332)">
                                <path
                                    d="m 4.2324219,288.79688 c -1.6042437,0 -2.9101556,1.30591 -2.9101563,2.91015 -10e-7,2.82277 2.7460938,4.96875 2.7460938,4.96875 a 0.26460978,0.26460978 0 0 0 0.3300781,0 c 0,0 2.7460996,-2.14598 2.7460937,-4.96875 -3.4e-6,-1.60424 -1.3078657,-2.91015 -2.9121093,-2.91015 z m 0,0.52929 c 1.3182605,0 2.3828097,1.0626 2.3828125,2.38086 4.8e-6,2.30926 -2.0910618,4.13374 -2.3808594,4.38086 -0.2884142,-0.24588 -2.3828134,-2.0707 -2.3828125,-4.38086 5e-7,-1.31826 1.0625988,-2.38086 2.3808594,-2.38086 z"
                                    id="path929"
                                    style="color:#5f6368;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#5f6368;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#5f6368;solid-opacity:1;vector-effect:none;fill:#5f6368;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.52916664;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:stroke fill markers;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate">
                                </path>
                                <path
                                    d="m 4.2324219,290.38477 c -0.7274912,0 -1.3222633,0.59477 -1.3222657,1.32226 -4.5e-6,0.7275 0.5947697,1.32422 1.3222657,1.32422 0.727496,0 1.3242233,-0.59672 1.3242187,-1.32422 -2.3e-6,-0.72749 -0.5967275,-1.32226 -1.3242187,-1.32226 z m 0,0.52929 c 0.4415089,0 0.7949204,0.35146 0.7949219,0.79297 2.7e-6,0.44151 -0.35341,0.79492 -0.7949219,0.79492 -0.441512,0 -0.7929715,-0.35341 -0.7929688,-0.79492 1.4e-6,-0.44151 0.3514598,-0.79297 0.7929688,-0.79297 z"
                                    id="circle931"
                                    style="color:#5f6368;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#5f6368;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:#5f6368;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.52916664;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:stroke fill markers;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate">
                                </path>
                            </g>
                        </g>
                    </svg>
                </div>
                <div class="ml-3">
                    <div class="font-medium leading-6 text-blue-600">Alamat</div>
                    <div class="mt-0.5 text-sm text-gray-500">Jl. Bulu-Jatirogo Kec. Bancar, Kab. Tuban, Jawa Timur
                    </div>
                </div>
            </div>
            <div class="flex px-8 py-5 cursor-pointer text-gray-900 items-center hover:bg-gray-100">
                <div class="w-8 h-8">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#5f6368">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <defs>
                                <style>
                                    .cls-1,
                                    .cls-2 {
                                        fill: none;
                                        stroke: #5f6368;
                                        stroke-linecap: round;
                                        stroke-width: 1.5px;
                                    }

                                    .cls-1 {
                                        stroke-linejoin: round;
                                    }

                                    .cls-2 {
                                        stroke-linejoin: bevel;
                                    }
                                </style>
                            </defs>
                            <g id="ic-contact-phone-2">
                                <path class="cls-1"
                                    d="M17.22,20.16H7a2,2,0,0,1-1.87-2.71l1.93-5.14A2,2,0,0,1,8.92,11h6.37a2,2,0,0,1,1.88,1.3l1.92,5.14A2,2,0,0,1,17.22,20.16Z">
                                </path>
                                <circle class="cls-2" cx="12.11" cy="15.59" r="2"></circle>
                                <path class="cls-1"
                                    d="M2.08,5.73V8.11a2,2,0,0,0,2,2H5a2,2,0,0,0,2-2V6.84H7a25.64,25.64,0,0,1,10,0h0V8.11a2,2,0,0,0,2,2h.89a2,2,0,0,0,2-2V5.73a1,1,0,0,0-.81-1h0a46.18,46.18,0,0,0-18.22,0h0A1,1,0,0,0,2.08,5.73Z">
                                </path>
                            </g>
                        </g>
                    </svg>
                </div>
                <div class="ml-3">
                    <div class="font-medium leading-6 text-blue-600">Kontak</div>
                    <div class="mt-0.5 text-sm text-gray-500">Hubungi kami di 081-123-4567</div>
                </div>
            </div>
            <div class="flex px-8 py-5 cursor-pointer text-gray-900 items-center hover:bg-gray-100">
                <div class="w-16 h-16">
                    <svg class="text-gray-600" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#5f6368">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <g>
                                <path fill="none" d="M0 0h24v24H0z"></path>
                                <path
                                    d="M3.161 4.469a6.5 6.5 0 0 1 8.84-.328 6.5 6.5 0 0 1 9.178 9.154l-7.765 7.79a2 2 0 0 1-2.719.102l-.11-.101-7.764-7.791a6.5 6.5 0 0 1 .34-8.826zm1.414 1.414a4.5 4.5 0 0 0-.146 6.21l.146.154L12 19.672l5.303-5.304-3.535-3.535-1.06 1.06a3 3 0 1 1-4.244-4.242l2.102-2.103a4.501 4.501 0 0 0-5.837.189l-.154.146zm8.486 2.828a1 1 0 0 1 1.414 0l4.242 4.242.708-.706a4.5 4.5 0 0 0-6.211-6.51l-.153.146-3.182 3.182a1 1 0 0 0-.078 1.327l.078.087a1 1 0 0 0 1.327.078l.087-.078 1.768-1.768z">
                                </path>
                            </g>
                        </g>
                    </svg>
                </div>
                <div class="ml-3">
                    <div class="font-medium leading-6 text-blue-600">Pelayanan</div>
                    <div class="mt-0.5 text-sm text-gray-500">Kami menyediakan pelayanan seperti reservasi pelayanan
                        kesehatan</div>
                </div>
            </div>

        </section>
    </x-slot>
    <!-- component -->
    <main class="py-6 px-12 space-y-12 bg-gray-100 w-full min-h-screen">
        <div class="md:flex w-full gap-5">
            <div class="bg-white shadow rounded-lg p-4 sm:p-6 xl:p-8 w-full">
                <div class="mb-4 flex items-center justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Daftar Dokter</h3>
                    </div>
                </div>
                <div class="flex flex-col mt-8">
                    <div class="overflow-x-auto rounded-lg">
                        <div class="align-middle inline-block min-w-full">
                            <div class="shadow overflow-hidden sm:rounded-lg">
                                <table class="w-11/12 divide-y divide-gray-200">
                                    <thead class="bg-gray-100">
                                        <tr>
                                            <th scope="col"
                                                class="p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Dokter
                                            </th>
                                            <th scope="col"
                                                class="p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Spesialis
                                            </th>
                                            <th scope="col"
                                                class="p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Nomor Telepon
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white">
                                        @foreach ($doktors as $dokter)
                                            <tr x-data="{ open: false }">
                                                <td class="p-4 whitespace-nowrap text-sm font-normal text-gray-900">
                                                    {{ $dokter->nama }}
                                                </td>
                                                <td class="p-4 whitespace-nowrap text-sm font-normal text-gray-900">
                                                    {{ $dokter->spesialis }}
                                                </td>
                                                <td class="p-4 whitespace-nowrap text-sm font-normal text-gray-900">
                                                    {{ $dokter->telepon }}
                                                </td>
                                            </tr>
                                        @endforeach
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br><br>
            <div x-data="{ open: false }" class="relative w-40 h-40 bg-blue-600 rounded-lg shadow-lg overflow-hidden">
                <!-- Background Image Overlay -->
                <div class="absolute inset-0 bg-cover bg-center opacity-75"
                    style="background-image: url('your-image-url-here');"></div>

                <!-- Icon and Text Overlay -->
                <div class="relative z-10 flex flex-col items-center justify-center h-full text-white">
                    <!-- Circle with Plus Icon -->
                    <button x-on:click="open = ! open"
                        class="flex items-center justify-center w-8 h-8 bg-white rounded-full mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="currentColor"
                            viewBox="0 0 24 24">
                            <path d="M12 5v14m-7-7h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                    <!-- Text Below Icon -->
                    <p class="text-small text-center font-italic">Ada keluhan?<br> Daftarkan disini!</p>
                    <div x-show="open"
                        class="py-12 backdrop-blur-3xl transition duration-150 ease-in-out z-10 fixed top-0 right-0 bottom-0 left-0"
                        id="modal">
                        <div role="alert" class="container mx-auto w-11/12 md:w-2/3 max-w-lg">
                            <div class="relative py-2 px-5 md:px-10 bg-white shadow-md rounded border border-gray-400">
                                <div class="w-full flex justify-start text-gray-600 mb-3">

                                </div>
                                <h1 class="text-gray-800 font-lg font-bold tracking-normal leading-tight mb-7">
                                    Isi data reservasi</h1>
                                <form method="POST" action="{{ route('reservasi.store') }}">
                                    @csrf
                                    <div class="w-full md:w-full px-3 mb-6">
                                        <label for="dokter_id"
                                            class="text-gray-800 text-sm font-bold leading-tight tracking-normal">Nama
                                            dokter</label>
                                        <select name="dokter_id" id="dokter_id"
                                            class="appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none focus:border-[#98c01d]"
                                            onchange="hari(this.value)">
                                            <option value='' selected disabled>Pilih Dokter
                                            </option>
                                            @foreach ($doktors as $doktor)
                                                <option value="{{ $doktor->id }}">{{ $doktor->nama }}
                                                    ({{ $doktor->spesialis }})
                                                </option>
                                            @endforeach
                                        </select>
                                    </div>
                                    @foreach ($doktors as $dokter)
                                        @if ($dokter->jadwalDokter->count() > 0)
                                            <div id="hari_{{ $dokter->id }}" class="hidden w-full">
                                                <div class="w-full md:w-full px-3 mb-6">
                                                    <label for="jadwal_dokter_id"
                                                        class="text-gray-800 text-sm font-bold leading-tight tracking-normal">Hari</label>
                                                    <select name="jadwal_dokter_id" id="jadwal_dokter_id"
                                                        class="appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none focus:border-[#98c01d]"
                                                        onchange="waktu(this.value)">
                                                        @foreach ($dokter->jadwalDokter as $jadwal)
                                                            <option value="{{ $jadwal->id }}">{{ $jadwal->hari }}
                                                                ({{ $jadwal->jam_mulai }} -
                                                                {{ $jadwal->jam_selesai }})
                                                            </option>
                                                        @endforeach
                                                    </select>
                                                </div>
                                            </div>
                                        @endif
                                    @endforeach
                                    <div class="w-full px-3 mb-6">
                                        <label for="keluhan"
                                            class="text-gray-800 text-sm font-bold leading-tight tracking-normal">Keluhan
                                            pasien</label>
                                        <input
                                            class="appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none focus:border-[#98c01d]"
                                            type="text" name="keluhan" required> </textarea>
                                    </div>
                                    <div class="w-full px-3 mb-6">
                                        <label for="tanggal_reservasi"
                                            class="text-gray-800 text-sm font-bold leading-tight tracking-normal">Tanggal
                                            reservasi</label>
                                        <input
                                            class="appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none focus:border-[#98c01d]"
                                            type="date" name="tanggal_reservasi" required> </textarea>
                                    </div>
                                    <div class="w-full md:w-full px-3 mb-6">
                                        <button type="submit"
                                            class="appearance-none block w-full bg-green-700 text-gray-100 font-bold border border-gray-200 rounded-lg py-3 px-3 leading-tight hover:bg-green-600 focus:outline-none focus:bg-white focus:border-gray-500">Tambah
                                            reservasi</button>
                                    </div>
                                </form>
                                <button x-on:click="open = ! open"
                                    class="cursor-pointer absolute top-0 right-0 mt-4 mr-5 text-gray-400 hover:text-gray-600 transition duration-150 ease-in-out rounded focus:ring-2 focus:outline-none focus:ring-gray-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x"
                                        width="20" height="20" viewBox="0 0 24 24" stroke-width="2.5"
                                        stroke="currentColor" fill="none" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" />
                                        <line x1="18" y1="6" x2="6" y2="18" />
                                        <line x1="6" y1="6" x2="18" y2="18" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        function hari(id) {
            // Sembunyikan semua div yang berisi jadwal
            @foreach ($doktors as $dokter)
                @if ($dokter->jadwalDokter->count() > 0)
                    document.getElementById('hari_{{ $dokter->id }}').classList.add('hidden');
                @endif
            @endforeach

            // Tampilkan div jadwal dokter yang dipilih
            document.getElementById('hari_' + id).classList.remove('hidden');
        }
    </script>

</x-app-layout>
